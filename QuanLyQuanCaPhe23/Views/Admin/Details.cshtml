@model QuanLyQuanCaPhe23.Models.ProductDetailsViewModel

@{
    ViewData["Title"] = "Chi tiết cà phê";
}

<div class="container mt-5">
    <div class="card shadow-lg p-3 mb-5 bg-white rounded">
        <div class="card-body">
            <h1 class="text-center mb-4">CHI TIẾT MÓN CÀ PHÊ</h1>
            <hr />
            <dl class="row">
                <dt class="col-sm-3 font-weight-bold">Ảnh</dt>
                <dd class="col-sm-9">
                    <img width="200px" src="@Html.DisplayFor(model => model.SanPham.Anh)" class="img-fluid rounded" />
                </dd>
                <dt class="col-sm-3 font-weight-bold">Mã cà phê</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.SanPham.Id)</dd>
                <dt class="col-sm-3 font-weight-bold">Tên cà phê</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.SanPham.Ten)</dd>
                <dt class="col-sm-3 font-weight-bold">Miêu tả</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.SanPham.MieuTa)</dd>
                <dt class="col-sm-3 font-weight-bold">Size</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.SanPham.Size.Ten)</dd>
                <dt class="col-sm-3 font-weight-bold">Giá tiền</dt>
                <dd class="col-sm-9">@string.Format("{0:N0} VNĐ", Model.SanPham.Tien)</dd>
            </dl>

            <!-- Danh sách bình luận -->
            <h2 class="mt-5">Bình luận của khách hàng</h2>
            <hr />
            @if (Model.BinhLuans != null && Model.BinhLuans.Any())
            {
                <ul class="list-group">
                    @foreach (var bl in Model.BinhLuans)
                    {
                        <li class="list-group-item">
                            <strong>@bl.KhachHang.HoKh @bl.KhachHang.TenKh:</strong> <!-- Hiển thị họ và tên khách hàng -->
                            <p>@bl.NoiDung</p>
                            <span>Số sao: @bl.SoSao</span>
                            <br />
                            <span class="text-muted">Ngày bình luận: @bl.NgayTao.Value.ToString("dd/MM/yyyy")</span>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p>Không có bình luận nào cho sản phẩm này.</p>
            }

            <div class="text-center mt-4">
                @Html.ActionLink("Chỉnh sửa", "Edit", new { id = Model.SanPham.Id }, new { @class = "btn btn-warning btn-lg mr-2" })
                <a asp-action="ListCaPhe" class="btn btn-primary btn-lg">Trở về danh sách</a>
            </div>
        </div>
    </div>
</div>
